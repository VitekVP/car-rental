"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[860],{860:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(433),a=r(861),s=r(439),c=r(757),u=r.n(c),i=r(791),o=r(596),l=r(461),f={btn:"CardCars_btn__akSuD",card:"CardCars_card__pqIqH",thumb:"CardCars_thumb__BRe49"},p=r(184),h=function(e){var t=e.car,r=t.make,n=t.img;return(0,p.jsxs)("li",{className:f.card,children:[(0,p.jsx)("div",{className:f.thumb,children:(0,p.jsx)("img",{src:n,alt:r})}),(0,p.jsx)("div",{className:f.info}),(0,p.jsx)("div",{className:f.description}),(0,p.jsx)("button",{type:"button",className:f.btn,children:"Learn more"})]})},d="CarsList_list__9i4lB",v=function(e){var t=e.data;return(0,p.jsx)("ul",{className:d,children:t.map((function(e){return(0,p.jsx)(h,{car:e},e.id)}))})},m="LoadMore_btn__KaaAq",x=function(e){var t=e.clickBtn;return(0,p.jsx)("button",{type:"button",className:m,onClick:t,children:"Load More"})},b=r(715),_=r(243).Z.create({baseURL:"https://648dc0c62de8d0ea11e82d21.mockapi.io"}),k=function(){var e=(0,a.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("/adverts",{params:{page:t,limit:8}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j="CatalogPage_wrapper__ShKzl",Z=function(){var e=(0,i.useState)([]),t=(0,s.Z)(e,2),r=t[0],c=t[1],f=(0,i.useState)(0),h=(0,s.Z)(f,2),d=h[0],m=h[1],_=(0,i.useState)(!1),Z=(0,s.Z)(_,2),g=Z[0],w=Z[1],C=(0,i.useState)(null),N=(0,s.Z)(C,2),y=N[0],S=N[1],L=(0,i.useState)(1),A=(0,s.Z)(L,2),B=A[0],q=A[1];(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:t=e.sent,m(t.length),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),S(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,i.useEffect)((function(){1!==B?E(B):M(B)}),[B]);var M=function(){var e=(0,a.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),S(null),e.prev=2,e.next=5,k(t);case 5:if(0!==(r=e.sent).length){e.next=9;break}return o.Am.info("sorry, nothing found :("),e.abrupt("return");case 9:c(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),S(e.t0.message);case 15:return e.prev=15,w(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,a.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),S(null),e.prev=2,e.next=5,k(t);case 5:if(0!==(r=e.sent).length){e.next=9;break}return o.Am.info("these are all cars"),e.abrupt("return");case 9:c((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(r))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),S(e.t0.message);case 15:return e.prev=15,w(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}();if(!y){var K=Math.ceil(d/8)-B;return(0,p.jsx)("section",{className:j,children:(0,p.jsxs)(l.Z,{children:[g?(0,p.jsx)(b.Z,{}):(0,p.jsx)(v,{data:r}),K&&(0,p.jsx)(x,{clickBtn:function(){q((function(e){return e+1}))}})]})})}o.Am.error(y)}}}]);
//# sourceMappingURL=860.0a0a66e7.chunk.js.map