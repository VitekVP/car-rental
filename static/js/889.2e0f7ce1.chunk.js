"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[889],{691:function(e,r,n){n.d(r,{Z:function(){return g}});var t=n(433),a=n(439),s=n(791),c=n(134),i="CardCars_btn__akSuD",l="CardCars_card__pqIqH",u="CardCars_thumb__BRe49",o="CardCars_iconAdd__qQRjp",d="CardCars_iconRemove__cMQdp",f="CardCars_info__Ab4CK",p="CardCars_infoItem__cg0EF",m="CardCars_location__QgWmL",v="CardCars_description__pslfE",h="CardCars_locationItem__1JV0Q",_="CardCars_descriptionItem__SAWyN",x=n(184),C=function(e){var r=e.car,n=e.addToFavorites,t=e.removeFromFavorites,a=e.isFavorite,s=r.id,C=r.make,j=r.model,g=r.img,N=r.year,k=r.rentalPrice,b=r.address,Z=r.rentalCompany,w=r.type,S=r.mileage,y=r.functionalities;return console.log(a),(0,x.jsxs)("li",{className:l,children:[(0,x.jsx)("div",{className:u,children:(0,x.jsx)("img",{src:g,alt:C})}),a?(0,x.jsx)(c.M_L,{className:d,onClick:function(){return t(s)}}):(0,x.jsx)(c.lo,{className:o,onClick:function(){return n(r)}}),(0,x.jsxs)("ul",{className:f,children:[(0,x.jsxs)("li",{className:p,children:[C.slice(0,9)," ",(0,x.jsx)("span",{children:j.slice(0,9)}),", ",N]}),(0,x.jsx)("li",{className:p,children:k})]}),(0,x.jsxs)("ul",{className:m,children:[(0,x.jsx)("li",{className:h,children:b.split(" ")[3].replace(",","")}),(0,x.jsx)("li",{className:h,children:b.split(" ").slice(-1)}),(0,x.jsx)("li",{className:h,children:Z})]}),(0,x.jsxs)("ul",{className:v,children:[(0,x.jsx)("li",{className:_,children:w}),(0,x.jsx)("li",{className:_,children:j}),(0,x.jsx)("li",{className:_,children:S}),(0,x.jsx)("li",{className:_,children:y[0].slice(0,21)})]}),(0,x.jsx)("button",{type:"button",className:i,children:"Learn more"})]})},j="CarsList_list__9i4lB",g=function(e){var r,n=e.data,c=e.changeFavorit,i=(0,s.useState)(null!==(r=JSON.parse(window.localStorage.getItem("favorites")))&&void 0!==r?r:[]),l=(0,a.Z)(i,2),u=l[0],o=l[1];(0,s.useEffect)((function(){window.localStorage.setItem("favorites",JSON.stringify(u))}),[u]);var d=function(e){o((function(r){return[].concat((0,t.Z)(r),[e])}))},f=function(e){o((function(r){return r.filter((function(r){return r.id!==e}))}));var r=u.filter((function(r){return r.id!==e}));c(r)};return console.log(u),(0,x.jsx)("ul",{className:j,children:n.map((function(e){return(0,x.jsx)(C,{car:e,addToFavorites:d,removeFromFavorites:f,isFavorite:(r=e.id,u.some((function(e){return e.id===r})))},e.id);var r}))})}},889:function(e,r,n){n.r(r),n.d(r,{default:function(){return C}});var t=n(433),a=n(861),s=n(439),c=n(757),i=n.n(c),l=n(791),u=n(596),o=n(461),d=n(691),f="LoadMore_btn__KaaAq",p=n(184),m=function(e){var r=e.clickBtn;return(0,p.jsx)("button",{type:"button",className:f,onClick:r,children:"Load More"})},v=n(715),h=n(243).Z.create({baseURL:"https://648dc0c62de8d0ea11e82d21.mockapi.io"}),_=function(){var e=(0,a.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/adverts",{params:{page:r,limit:8}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),x="CatalogPage_wrapper__ShKzl",C=function(){var e=(0,l.useState)([]),r=(0,s.Z)(e,2),n=r[0],c=r[1],f=(0,l.useState)(0),h=(0,s.Z)(f,2),C=h[0],j=h[1],g=(0,l.useState)(!1),N=(0,s.Z)(g,2),k=N[0],b=N[1],Z=(0,l.useState)(null),w=(0,s.Z)(Z,2),S=w[0],y=w[1],F=(0,l.useState)(1),A=(0,s.Z)(F,2),L=A[0],I=A[1];(0,l.useEffect)((function(){var e=function(){var e=(0,a.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:r=e.sent,j(r.length),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){1!==L?M(L):E(L)}),[L]);var E=function(){var e=(0,a.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),y(null),e.prev=2,e.next=5,_(r);case 5:if(0!==(n=e.sent).length){e.next=9;break}return u.Am.info("sorry, nothing found :("),e.abrupt("return");case 9:c(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),y(e.t0.message);case 15:return e.prev=15,b(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(r){return e.apply(this,arguments)}}(),M=function(){var e=(0,a.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),y(null),e.prev=2,e.next=5,_(r);case 5:if(0!==(n=e.sent).length){e.next=9;break}return u.Am.info("these are all cars"),e.abrupt("return");case 9:c((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(n))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),y(e.t0.message);case 15:return e.prev=15,b(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(r){return e.apply(this,arguments)}}();if(!S){var q=Math.ceil(C/8)-L;return(0,p.jsx)("section",{className:x,children:(0,p.jsxs)(o.Z,{children:[k?(0,p.jsx)(v.Z,{}):(0,p.jsx)(d.Z,{data:n}),q&&(0,p.jsx)(m,{clickBtn:function(){I((function(e){return e+1}))}})]})})}u.Am.error(S)}}}]);
//# sourceMappingURL=889.2e0f7ce1.chunk.js.map