"use strict";(self.webpackChunkcar_rental=self.webpackChunkcar_rental||[]).push([[889],{567:function(e,a,s){s.d(a,{Z:function(){return J}});var r=s(433),n=s(439),i=s(791),t=s(134),c="CardCars_btn__akSuD",l="CardCars_card__pqIqH",o="CardCars_thumb__BRe49",d="CardCars_iconAdd__qQRjp",u="CardCars_iconRemove__cMQdp",p="CardCars_info__Ab4CK",h="CardCars_infoItem__cg0EF",m="CardCars_location__QgWmL",_="CardCars_description__pslfE",x="CardCars_locationItem__1JV0Q",f="CardCars_descriptionItem__SAWyN",j=s(184),v=function(e){var a=e.car,s=e.addToFavorites,r=e.removeFromFavorites,n=e.isFavorite,i=e.toggleModal,v=a.id,C=a.make,N=a.model,g=a.img,k=a.year,M=a.rentalPrice,w=a.address,b=a.rentalCompany,Z=a.type,y=a.mileage,S=a.functionalities;return(0,j.jsxs)("li",{className:l,children:[(0,j.jsx)("div",{className:o,children:(0,j.jsx)("img",{src:g,alt:C})}),n?(0,j.jsx)(t.M_L,{className:u,onClick:function(){return r(v)}}):(0,j.jsx)(t.lo,{className:d,onClick:function(){return s(a)}}),(0,j.jsxs)("ul",{className:p,children:[(0,j.jsx)("li",{className:h,children:(0,j.jsxs)("p",{children:[C.slice(0,9)," ",(0,j.jsx)("span",{children:N.slice(0,9)}),", ",k]})}),(0,j.jsx)("li",{className:h,children:(0,j.jsx)("p",{children:M})})]}),(0,j.jsxs)("ul",{className:m,children:[(0,j.jsx)("li",{className:x,children:(0,j.jsx)("p",{children:w.split(" ")[3].replace(",","")})}),(0,j.jsx)("li",{className:x,children:(0,j.jsx)("p",{children:w.split(" ").slice(-1)})}),(0,j.jsx)("li",{className:x,children:(0,j.jsx)("p",{children:b})})]}),(0,j.jsxs)("ul",{className:_,children:[(0,j.jsx)("li",{className:f,children:(0,j.jsx)("p",{children:Z})}),(0,j.jsx)("li",{className:f,children:(0,j.jsx)("p",{children:N})}),(0,j.jsx)("li",{className:f,children:(0,j.jsx)("p",{children:y})}),(0,j.jsx)("li",{className:f,children:(0,j.jsx)("p",{children:S[0].slice(0,21)})})]}),(0,j.jsx)("button",{type:"button",className:c,onClick:function(){return i(a)},children:"Learn more"})]})},C=s(164),N="Modal_backdrop__QksgQ",g="Modal_modal__IrIPm",k=document.querySelector("#modal-root"),M=function(e){var a=e.children,s=e.toggleModal,r=function(e){var a;((null===(a=e.target.dataset)||void 0===a?void 0:a.backdrop)||"Escape"===e.code)&&s()};return(0,i.useEffect)((function(){return window.addEventListener("keydown",r),window.addEventListener("click",r),function(){window.removeEventListener("keydown",r),window.removeEventListener("click",r)}})),(0,C.createPortal)((0,j.jsx)("div",{className:N,"data-backdrop":!0,children:(0,j.jsx)("div",{className:g,children:a})}),k)},w="CarModal_wrapper__LitVT",b="CarModal_iconClose__9oiIy",Z="CarModal_thumb__h7HHK",y="CarModal_info__AGzFY",S="CarModal_location__e3vSL",I="CarModal_locationItem__omx6y",F="CarModal_feature__V-pZ5",L="CarModal_featureItem__0f4x+",E="CarModal_subtitle__q54IG",A="CarModal_description__s-aP+",P="CarModal_accessories__tyOm9",R="CarModal_accessoriesItem__cIRFK",Q="CarModal_functionalities__UUUYz",q="CarModal_functionalitiesItem__G1RJQ",z="CarModal_conditionList__ntpE2",K="CarModal_condition__Gj14c",B="CarModal_link__wXaX3",G=function(e){var a=e.car,s=e.toggleModal,r=a.id,n=a.make,i=a.model,c=a.img,l=a.year,o=a.rentalPrice,d=a.address,u=a.type,p=a.mileage,h=a.functionalities,m=a.fuelConsumption,_=a.engineSize,x=a.description,f=a.accessories,v=a.rentalConditions;return(0,j.jsxs)("div",{className:w,children:[(0,j.jsx)(t.oHP,{className:b,onClick:s}),(0,j.jsx)("div",{className:Z,children:(0,j.jsx)("img",{src:c,alt:n})}),(0,j.jsxs)("h3",{className:y,children:[n," ",(0,j.jsx)("span",{children:i}),", ",l]}),(0,j.jsxs)("ul",{className:S,children:[(0,j.jsx)("li",{className:I,children:(0,j.jsx)("p",{children:d.split(" ")[3].replace(",","")})}),(0,j.jsx)("li",{className:I,children:(0,j.jsx)("p",{children:d.split(" ").slice(-1)})}),(0,j.jsx)("li",{className:I,children:(0,j.jsxs)("p",{children:["Id:",r]})}),(0,j.jsx)("li",{className:I,children:(0,j.jsxs)("p",{children:["Year:",l]})}),(0,j.jsxs)("li",{className:I,children:[" ",(0,j.jsxs)("p",{children:["Tipe:",u]})]})]}),(0,j.jsxs)("ul",{className:F,children:[(0,j.jsx)("li",{className:L,children:(0,j.jsxs)("p",{children:["FuelConsumption:",m]})}),(0,j.jsx)("li",{className:L,children:(0,j.jsxs)("p",{children:["EngineSize:",_]})})]}),(0,j.jsx)("p",{className:A,children:(0,j.jsx)("p",{children:x.slice(0,121)})}),(0,j.jsx)("h4",{className:E,children:"Accessories and functionalities:"}),(0,j.jsx)("ul",{className:P,children:f.map((function(e){return(0,j.jsx)("li",{className:R,children:(0,j.jsx)("p",{children:e.slice(0,25)})},e)}))}),(0,j.jsx)("ul",{className:Q,children:h.map((function(e){return(0,j.jsx)("li",{className:q,children:(0,j.jsx)("p",{children:e.slice(0,25)})},e)}))}),(0,j.jsx)("h4",{className:E,children:"Rental Conditions: "}),(0,j.jsxs)("div",{className:z,children:[(0,j.jsxs)("p",{className:K,children:[v.split("\n")[0].split(" ").slice(0,2).join(" "),(0,j.jsx)("span",{children:v.split("\n")[0].split(" ").slice(-1).join("")})]}),(0,j.jsx)("p",{className:K,children:v.split("\n")[1]}),(0,j.jsx)("p",{className:K,children:v.split("\n")[2]}),(0,j.jsxs)("p",{className:K,children:["Mileage:",(0,j.jsx)("span",{children:(p/1e3).toFixed(3).replace(".",",")})]}),(0,j.jsxs)("p",{className:K,children:["Price:",(0,j.jsx)("span",{children:o})]})]}),(0,j.jsx)("a",{href:"tel:+380730000000",className:B,children:"Rental car"})]})},H="CarsList_list__9i4lB",J=function(e){var a,s=e.data,t=e.changeFavorit,c=(0,i.useState)(null!==(a=JSON.parse(window.localStorage.getItem("favorites")))&&void 0!==a?a:[]),l=(0,n.Z)(c,2),o=l[0],d=l[1],u=(0,i.useState)(!1),p=(0,n.Z)(u,2),h=p[0],m=p[1],_=(0,i.useState)(""),x=(0,n.Z)(_,2),f=x[0],C=x[1];(0,i.useEffect)((function(){window.localStorage.setItem("favorites",JSON.stringify(o))}),[o]);var N=function(e){d((function(a){return[].concat((0,r.Z)(a),[e])}))},g=function(e){d((function(a){return a.filter((function(a){return a.id!==e}))}));var a=o.filter((function(a){return a.id!==e}));t(a)},k=function(e){m(!h),C(e)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("ul",{className:H,children:s.map((function(e){return(0,j.jsx)(v,{car:e,addToFavorites:N,removeFromFavorites:g,isFavorite:(a=e.id,o.some((function(e){return e.id===a}))),toggleModal:k},e.id);var a}))}),h&&(0,j.jsx)(M,{toggleModal:k,children:(0,j.jsx)(G,{toggleModal:k,car:f})})]})}},889:function(e,a,s){s.r(a),s.d(a,{default:function(){return v}});var r=s(433),n=s(861),i=s(439),t=s(757),c=s.n(t),l=s(791),o=s(596),d=s(461),u=s(567),p="LoadMore_btn__KaaAq",h=s(184),m=function(e){var a=e.clickBtn;return(0,h.jsx)("button",{type:"button",className:p,onClick:a,children:"Load More"})},_=s(715),x=s(243).Z.create({baseURL:"https://648dc0c62de8d0ea11e82d21.mockapi.io"}),f=function(){var e=(0,n.Z)(c().mark((function e(a){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/adverts",{params:{page:a,limit:8}});case 3:return s=e.sent,e.abrupt("return",s.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),j="CatalogPage_wrapper__ShKzl",v=function(){var e=(0,l.useState)([]),a=(0,i.Z)(e,2),s=a[0],t=a[1],p=(0,l.useState)(0),x=(0,i.Z)(p,2),v=x[0],C=x[1],N=(0,l.useState)(!1),g=(0,i.Z)(N,2),k=g[0],M=g[1],w=(0,l.useState)(null),b=(0,i.Z)(w,2),Z=b[0],y=b[1],S=(0,l.useState)(1),I=(0,i.Z)(S,2),F=I[0],L=I[1];(0,l.useEffect)((function(){var e=function(){var e=(0,n.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:a=e.sent,C(a.length),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){1!==F?A(F):E(F)}),[F]);var E=function(){var e=(0,n.Z)(c().mark((function e(a){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),y(null),e.prev=2,e.next=5,f(a);case 5:if(0!==(s=e.sent).length){e.next=9;break}return o.Am.info("sorry, nothing found :("),e.abrupt("return");case 9:t(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),y(e.t0.message);case 15:return e.prev=15,M(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=(0,n.Z)(c().mark((function e(a){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),y(null),e.prev=2,e.next=5,f(a);case 5:if(0!==(s=e.sent).length){e.next=9;break}return o.Am.info("these are all cars"),e.abrupt("return");case 9:t((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(s))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),y(e.t0.message);case 15:return e.prev=15,M(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(a){return e.apply(this,arguments)}}();if(!Z){var P=Math.ceil(v/8)-F;return(0,h.jsx)("section",{className:j,children:(0,h.jsxs)(d.Z,{children:[k?(0,h.jsx)(_.Z,{}):(0,h.jsx)(u.Z,{data:s}),P&&(0,h.jsx)(m,{clickBtn:function(){L((function(e){return e+1}))}})]})})}o.Am.error(Z)}}}]);
//# sourceMappingURL=889.0785927c.chunk.js.map