{"version":3,"file":"static/js/889.2e0f7ce1.chunk.js","mappings":"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","sources":["webpack://car-rental/./src/components/CardCar/CardCars.module.scss?b19d","components/CardCar/CardCar.jsx","webpack://car-rental/./src/components/CarsList/CarsList.module.scss?41cf","components/CarsList/CarsList.jsx","webpack://car-rental/./src/components/LoadMore/LoadMore.module.scss?e23a","components/LoadMore/LoadMore.jsx","Api.js","webpack://car-rental/./src/pages/CatalogPage.module.scss?2036","pages/CatalogPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"CardCars_btn__akSuD\",\"card\":\"CardCars_card__pqIqH\",\"thumb\":\"CardCars_thumb__BRe49\",\"iconAdd\":\"CardCars_iconAdd__qQRjp\",\"iconRemove\":\"CardCars_iconRemove__cMQdp\",\"info\":\"CardCars_info__Ab4CK\",\"infoItem\":\"CardCars_infoItem__cg0EF\",\"location\":\"CardCars_location__QgWmL\",\"description\":\"CardCars_description__pslfE\",\"locationItem\":\"CardCars_locationItem__1JV0Q\",\"descriptionItem\":\"CardCars_descriptionItem__SAWyN\"};","import { AiFillHeart } from 'react-icons/ai';\nimport { AiOutlineHeart } from 'react-icons/ai';\n\nimport styles from './CardCars.module.scss';\n\nconst CardCar = ({ car, addToFavorites, removeFromFavorites, isFavorite }) => {\n  const {\n    id,\n    make,\n    model,\n    img,\n    year,\n    rentalPrice,\n    address,\n    rentalCompany,\n    type,\n    mileage,\n    functionalities,\n  } = car;\n\n  console.log(isFavorite);\n\n  return (\n    <li className={styles.card}>\n      <div className={styles.thumb}>\n        <img src={img} alt={make} />\n      </div>\n      {isFavorite ? (\n        <AiFillHeart\n          className={styles.iconRemove}\n          onClick={() => removeFromFavorites(id)}\n        />\n      ) : (\n        <AiOutlineHeart\n          className={styles.iconAdd}\n          onClick={() => addToFavorites(car)}\n        />\n      )}\n\n      <ul className={styles.info}>\n        <li className={styles.infoItem}>\n          {make.slice(0, 9)} <span>{model.slice(0, 9)}</span>, {year}\n        </li>\n        <li className={styles.infoItem}>{rentalPrice}</li>\n      </ul>\n      <ul className={styles.location}>\n        <li className={styles.locationItem}>\n          {address.split(' ')[3].replace(',', '')}\n        </li>\n        <li className={styles.locationItem}>{address.split(' ').slice(-1)}</li>\n        <li className={styles.locationItem}>{rentalCompany}</li>\n      </ul>\n      <ul className={styles.description}>\n        <li className={styles.descriptionItem}>{type}</li>\n        <li className={styles.descriptionItem}>{model}</li>\n        <li className={styles.descriptionItem}>{mileage}</li>\n        <li className={styles.descriptionItem}>\n          {functionalities[0].slice(0, 21)}\n        </li>\n      </ul>\n      <button type=\"button\" className={styles.btn}>\n        Learn more\n      </button>\n    </li>\n  );\n};\nexport default CardCar;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"CarsList_list__9i4lB\"};","import { useState, useEffect } from 'react';\n\nimport CardCar from 'components/CardCar/CardCar';\n\nimport styles from './CarsList.module.scss';\n\nconst CarsList = ({ data, changeFavorit }) => {\n  const [favorit, setFavorit] = useState(\n    JSON.parse(window.localStorage.getItem('favorites')) ?? []\n  );\n\n  useEffect(() => {\n    window.localStorage.setItem('favorites', JSON.stringify(favorit));\n  }, [favorit]);\n\n  const handleAddToFavorites = car => {\n    setFavorit(prev => [...prev, car]);\n  };\n\n  const handleIsFavorites = id => favorit.some(item => item.id === id);\n\n  const handleDeleteFromFavorites = id => {\n    setFavorit(prev => prev.filter(item => item.id !== id));\n    const newFavorites = favorit.filter(item => item.id !== id);\n    changeFavorit(newFavorites);\n  };\n\n  console.log(favorit);\n\n  return (\n    <ul className={styles.list}>\n      {data.map(item => (\n        <CardCar\n          key={item.id}\n          car={item}\n          addToFavorites={handleAddToFavorites}\n          removeFromFavorites={handleDeleteFromFavorites}\n          isFavorite={handleIsFavorites(item.id)}\n        />\n      ))}\n    </ul>\n  );\n};\nexport default CarsList;\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"LoadMore_btn__KaaAq\"};","import styles from './LoadMore.module.scss';\n\nconst LoadMore = ({ clickBtn }) => {\n  return (\n    <button type=\"button\" className={styles.btn} onClick={clickBtn}>\n      Load More\n    </button>\n  );\n};\nexport default LoadMore;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://648dc0c62de8d0ea11e82d21.mockapi.io',\n});\n\nexport const serviseGetCars = async page => {\n  try {\n    const response = await instance.get('/adverts', {\n      params: { page: page, limit: 8 },\n    });\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"CatalogPage_wrapper__ShKzl\"};","import { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport Container from 'components/Shared/Container/Container';\nimport CarsList from 'components/CarsList/CarsList';\nimport LoadMore from 'components/LoadMore/LoadMore';\nimport Loader from 'components/Shared/Loader/Loader';\n\nimport { serviseGetCars } from 'Api';\n\nimport styles from './CatalogPage.module.scss';\n\nconst CatalogPage = () => {\n  const [cars, setCars] = useState([]);\n  const [totalCars, setTotalCars] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    const allCars = async () => {\n      try {\n        const resolve = await serviseGetCars();\n        setTotalCars(resolve.length);\n      } catch (error) {\n        setError(error.message);\n      }\n    };\n    allCars();\n  }, []);\n\n  useEffect(() => {\n    if (page === 1) {\n      getFirstCars(page);\n      return;\n    }\n    getCars(page);\n  }, [page]);\n\n  const getFirstCars = async page => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const res = await serviseGetCars(page);\n\n      if (res.length === 0) {\n        toast.info('sorry, nothing found :(');\n        return;\n      }\n\n      setCars(res);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getCars = async page => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const res = await serviseGetCars(page);\n\n      if (res.length === 0) {\n        toast.info('these are all cars');\n\n        return;\n      }\n\n      setCars(prev => [...prev, ...res]);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  if (error) {\n    toast.error(error);\n    return;\n  }\n\n  const quantityPage = Math.ceil(totalCars / 8);\n  const isLoadMore = quantityPage - page;\n\n  return (\n    <section className={styles.wrapper}>\n      <Container>\n        {loading ? <Loader /> : <CarsList data={cars} />}\n        {isLoadMore && <LoadMore clickBtn={handleLoadMore} />}\n      </Container>\n    </section>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["car","addToFavorites","removeFromFavorites","isFavorite","id","make","model","img","year","rentalPrice","address","rentalCompany","type","mileage","functionalities","console","log","className","styles","src","alt","onClick","slice","split","replace","data","changeFavorit","useState","JSON","parse","window","localStorage","getItem","favorit","setFavorit","useEffect","setItem","stringify","handleAddToFavorites","prev","handleDeleteFromFavorites","filter","item","newFavorites","map","some","clickBtn","instance","axios","baseURL","serviseGetCars","page","get","params","limit","response","cars","setCars","totalCars","setTotalCars","loading","setLoading","error","setError","setPage","allCars","resolve","length","message","getCars","getFirstCars","res","toast","isLoadMore","Math","ceil","Container","Loader","CarsList"],"sourceRoot":""}