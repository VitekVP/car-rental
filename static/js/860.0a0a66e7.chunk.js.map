{"version":3,"file":"static/js/860.0a0a66e7.chunk.js","mappings":"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","sources":["webpack://car-rental/./src/components/CardCar/CardCars.module.scss?b19d","components/CardCar/CardCar.jsx","webpack://car-rental/./src/components/CarsList/CarsList.module.scss?41cf","components/CarsList/CarsList.jsx","webpack://car-rental/./src/components/LoadMore/LoadMore.module.scss?e23a","components/LoadMore/LoadMore.jsx","Api.js","webpack://car-rental/./src/pages/CatalogPage.module.scss?2036","pages/CatalogPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"CardCars_btn__akSuD\",\"card\":\"CardCars_card__pqIqH\",\"thumb\":\"CardCars_thumb__BRe49\"};","import styles from './CardCars.module.scss';\n\nconst CardCar = ({ car }) => {\n  const { make, img } = car;\n\n  return (\n    <li className={styles.card}>\n      <div className={styles.thumb}>\n        <img src={img} alt={make} />\n      </div>\n      <div className={styles.info}></div>\n      <div className={styles.description}></div>\n      <button type=\"button\" className={styles.btn}>\n        Learn more\n      </button>\n    </li>\n  );\n};\nexport default CardCar;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"CarsList_list__9i4lB\"};","import CardCar from 'components/CardCar/CardCar';\n\nimport styles from './CarsList.module.scss';\n\nconst CarsList = ({ data }) => {\n  return (\n    <ul className={styles.list}>\n      {data.map(item => (\n        <CardCar key={item.id} car={item} />\n      ))}\n    </ul>\n  );\n};\nexport default CarsList;\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"LoadMore_btn__KaaAq\"};","import styles from './LoadMore.module.scss';\n\nconst LoadMore = ({ clickBtn }) => {\n  return (\n    <button type=\"button\" className={styles.btn} onClick={clickBtn}>\n      Load More\n    </button>\n  );\n};\nexport default LoadMore;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://648dc0c62de8d0ea11e82d21.mockapi.io',\n});\n\nexport const serviseGetCars = async page => {\n  try {\n    const response = await instance.get('/adverts', {\n      params: { page: page, limit: 8 },\n    });\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"CatalogPage_wrapper__ShKzl\"};","import { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport Container from 'components/Shared/Container/Container';\nimport CarsList from 'components/CarsList/CarsList';\nimport LoadMore from 'components/LoadMore/LoadMore';\nimport Loader from 'components/Shared/Loader/Loader';\n\nimport { serviseGetCars } from 'Api';\n\nimport styles from './CatalogPage.module.scss';\n\nconst CatalogPage = () => {\n  const [cars, setCars] = useState([]);\n  const [totalCars, setTotalCars] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    const allCars = async () => {\n      try {\n        const resolve = await serviseGetCars();\n        setTotalCars(resolve.length);\n      } catch (error) {\n        setError(error.message);\n      }\n    };\n    allCars();\n  }, []);\n\n  useEffect(() => {\n    if (page === 1) {\n      getFirstCars(page);\n      return;\n    }\n    getCars(page);\n  }, [page]);\n\n  const getFirstCars = async page => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const res = await serviseGetCars(page);\n\n      if (res.length === 0) {\n        toast.info('sorry, nothing found :(');\n        return;\n      }\n\n      setCars(res);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getCars = async page => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const res = await serviseGetCars(page);\n\n      if (res.length === 0) {\n        toast.info('these are all cars');\n\n        return;\n      }\n\n      setCars(prev => [...prev, ...res]);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  if (error) {\n    toast.error(error);\n    return;\n  }\n\n  const quantityPage = Math.ceil(totalCars / 8);\n  const isLoadMore = quantityPage - page;\n\n  return (\n    <section className={styles.wrapper}>\n      <Container>\n        {loading ? <Loader /> : <CarsList data={cars} />}\n        {isLoadMore && <LoadMore clickBtn={handleLoadMore} />}\n      </Container>\n    </section>\n  );\n};\n\nexport default CatalogPage;\n"],"names":["car","make","img","className","styles","src","alt","type","data","map","item","id","clickBtn","onClick","instance","axios","baseURL","serviseGetCars","page","get","params","limit","response","useState","cars","setCars","totalCars","setTotalCars","loading","setLoading","error","setError","setPage","useEffect","allCars","resolve","length","message","getCars","getFirstCars","res","toast","prev","isLoadMore","Math","ceil","Container","Loader"],"sourceRoot":""}